!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-interpolate")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate"],e):e(t.d3=t.d3||{},t.d3)}(this,function(t,e){"use strict";function n(t,e){function n(t,e){if(1===t.length)r.push(t[0]),u.push(t[0]);else{for(var l=Array(t.length-1),i=0;i<l.length;i++)0===i&&r.push(t[0]),i===l.length-1&&u.push(t[i+1]),l[i]=[(1-e)*t[i][0]+e*t[i+1][0],(1-e)*t[i][1]+e*t[i+1][1]];n(l,e)}}var r=[],u=[];return t.length&&n(t,e),{left:r,right:u.reverse()}}function r(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],4===t.length?e.type="C":3===t.length?e.type="Q":e.type="L",e}function u(t,e){e=e||2;for(var r=[],u=t,l=1/e,i=0;i<e-1;i++){var a=l/(1-l*i),o=n(u,a);r.push(o.left),u=o.right}return r.push(u),r}function l(t,e,n){var l=[[t.x,t.y]];return null!=e.x1&&l.push([e.x1,e.y1]),null!=e.x2&&l.push([e.x2,e.y2]),l.push([e.x,e.y]),u(l,n).map(r)}function i(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function a(t){t=t.trim().replace(/ /g,",");var e=t[0],n=t.substring(1).split(",");return g[e.toUpperCase()].reduce(function(t,e,r){return t[e]=+n[r],t},{type:e})}function o(t){var e=t.type,n=g[e.toUpperCase()];return""+e+n.map(function(e){return t[e]}).join(",")}function p(t,e){var n={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];return t.type!==e.type&&"M"!==e.type.toUpperCase()&&!function(){var u={};Object.keys(e).forEach(function(l){var i=e[l],a=t[l];void 0===a&&(r.includes(l)?a=i:(void 0===a&&n[l]&&(a=t[n[l]]),void 0===a&&(a=0))),u[l]=a}),u.type=e.type,t=u}(),t}function c(t,e,n){var r=[];return"L"===e.type||"Q"===e.type||"C"===e.type?r=r.concat(l(t,e,n)):!function(){var u=y({},t);"M"===u.type&&(u.type="L"),r=r.concat(i(n-1).map(function(){return u})),r.push(e)}(),r}function h(t,e,n){var r=t.length-1,u=e.length-1,l=r/u,a=i(u).reduce(function(e,r,u){var i=Math.floor(l*u);if(n&&i<t.length-1&&n(t[i],t[i+1])){var a=l*u%1<.5;e[i]&&(a?i>0?i-=1:i<t.length-1&&(i+=1):i<t.length-1?i+=1:i>0&&(i-=1))}return e[i]=(e[i]||0)+1,e},[]),o=a.reduce(function(e,n,r){if(r===t.length-1){var u=i(n,y({},t[t.length-1]));return"M"===u[0].type&&u.forEach(function(t){t.type="L"}),e.concat(u)}return e.concat(c(t[r],t[r+1],n))},[]);return o.unshift(t[0]),o}function f(t,n,r){var u=null==t?"":t.replace(/[Z]/gi,"").replace(/([MLCSTQAHV])\s*/gi,"$1"),l=null==n?"":n.replace(/[Z]/gi,"").replace(/([MLCSTQAHV])\s*/gi,"$1"),i=""===u?[]:u.split(/(?=[MLCSTQAHV])/gi),c=""===l?[]:l.split(/(?=[MLCSTQAHV])/gi);if(!i.length&&!c.length)return function(){return""};i.length?c.length||c.push(i[0]):i.push(c[0]);var f=i.map(a),y=c.map(a),g=Math.abs(c.length-i.length);0!==g&&(y.length>f.length?f=h(f,y,r):y.length<f.length&&(y=h(y,f,r))),f=f.map(function(t,e){return p(t,y[e])});var s=f.map(o).join(""),x=y.map(o).join("");null!=t&&"Z"!==t[t.length-1]||null!=n&&"Z"!==n[n.length-1]||(s+="Z",x+="Z");var v=e.interpolateString(s,x);return function(t){return 1===t?null==n?"":n:v(t)}}var y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"]};t.interpolatePath=f,Object.defineProperty(t,"__esModule",{value:!0})});